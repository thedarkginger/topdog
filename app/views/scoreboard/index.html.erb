<div class="container">
  <%= content_tag 'h1', @game.name + ' scoreboard', id: "triviah1" %> 

   <div class="row">
             <div class="col-lg-12 text-center">
                <hr class="star-game">
              </div>
              </div>
  <table class="table table-striped">
    <thead>
      <tr>
        <th>Rank</th>
        <th>User</th>
        <th>City</th>
        <th>Category</th>
        <th>Score</th>
        <th>Prize</th>
      </tr>
    </thead>

    <tbody>
       <% @participations.each_with_index do |participation, index| %>
    <tr>
      <td></td>
      <td><%= participation.user.username %></td>
      <td><%= participation.user.city %></td>
      <td><%= participation.game.name %></td>
      <td><%= participation.score %></td>
        <% if index == 0 %>
            <td>$<%= @firstpoints %>.00</td>
        <% elsif index == 1 %>
            <td>$<%= @secondpoints %>.00</td>
        <% elsif index == 2 %>
            <td>$<%= @thirdpoints %>.00</td>
        <% else %>
            <td>Good Try!</td>
        <% end %>
    

      </tr>
      <% end %>
    </tbody>
  </table>
  <br>
 <% @game.each do |game| %>
    <h4 style="text-align: center;">*Scores and TopDollars finalized at <b><%= @game.last.starts_at + 6.minutes %>.</b></h4>
    <h4 style="text-align: center">Have ideas for TopDog? Leave feedback <b><%= link_to "right here!", new_feedback_path %></b></h4>
<% end %>


</div>

<script>

var table = document.getElementsByTagName('table')[0],
    rows = table.getElementsByTagName('tr'),
    text = 'textContent' in document ? 'textContent' : 'innerText';
console.log(text);

for (var i = 1, len = rows.length; i < len; i++){
    rows[i].children[0][text] = i + rows[i].children[0][text];
}

</script>

